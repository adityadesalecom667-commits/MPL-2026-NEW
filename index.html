<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Multivity Premier League | MPL</title>
  <link rel="stylesheet" href="shared/styles.css">
</head>
<body>
  <!-- Access Gate only (Privacy modal removed) -->
  <div id="accessGate" style="position:fixed;inset:0;background:rgba(15,23,42,0.95);color:#fff;display:flex;align-items:center;justify-content:center;z-index:9999;">
    <div style="background:#0f172a;padding:28px;border-radius:14px;width:90%;max-width:420px;box-shadow:0 20px 50px rgba(0,0,0,.4);text-align:center;">
      <h2 style="margin-bottom:8px;">ğŸ” MPL Access</h2>
      <p style="opacity:.9;margin-bottom:18px;">Enter your <b>Member ID</b> and <b>Access Code</b></p>
      <input id="loginMemberId" type="text" placeholder="Member ID" style="width:100%;padding:10px;margin-bottom:12px;border-radius:8px;border:none;">
      <input id="loginCode" type="text" placeholder="Access Code" style="width:100%;padding:10px;margin-bottom:14px;border-radius:8px;border:none;">
      <button onclick="checkAccess()" style="width:100%;padding:12px;border:none;border-radius:10px;background:#2563eb;color:#fff;font-weight:bold;cursor:pointer;">Enter</button>
      <p id="loginMsg" style="margin-top:12px;color:#fca5a5;"></p>
      <p style="margin-top:14px;font-size:.85rem;opacity:.9;">Donâ€™t have an account?<br><a href="https://docs.google.com/forms/d/e/1FAIpQLScxKvkdafgDOi8_5gLJyXM1VpELidMFjaO9EAJtmjCF8_YBcA/viewform" target="_blank" style="color:#60a5fa;font-weight:bold;">Register first</a></p>
    </div>
  </div>

  <header>
    <div class="logo">
      <img src="assets/mpl-logo.png" alt="MPL Logo">
      <h1>Multivity Premier League</h1>
    </div>
    <p>Official Cricket Tournament Website â€¢ MPL 2026 â€¢ Season 4</p>
  </header>

  <nav>
    <a href="index.html">Home</a>
    <a href="teams.html">Teams</a>
    <a href="schedule.html">Schedule</a>
    <a href="history.html">History</a>
    <a href="registration.html">Registration</a>
    <a href="privacy.html">Privacy</a>
  </nav>

  <div id="announcementBanner" style="background:linear-gradient(90deg,#2563eb,#1e40af);color:#fff;padding:12px 16px;display:flex;align-items:center;justify-content:space-between;font-size:0.95rem;">
    <span>ğŸ“¢ <strong>Announcement:</strong> MPL 2026 Registration is LIVE! Last date: <b>28 Feb 2026</b></span>
    <button onclick="closeAnnouncement()" style="background:rgba(255,255,255,0.2);border:none;color:#fff;padding:6px 10px;border-radius:6px;cursor:pointer;">âœ–</button>
  </div>

  <div class="container">
    <section class="hero">
      <h2>ğŸ MPL 2026 Starts In</h2>
      <div class="countdown" id="countdown">
        <div class="time-box"><span id="days">00</span><small>DAYS</small></div>
        <div class="time-box"><span id="hours">00</span><small>HOURS</small></div>
        <div class="time-box"><span id="minutes">00</span><small>MINUTES</small></div>
        <div class="time-box"><span id="seconds">00</span><small>SECONDS</small></div>
      </div>
    </section>

    <section class="hero">
      <h2>ğŸ’¡ Suggestion Box</h2>
      <p>Help us improve MPL by sharing your ideas.</p>
      <a href="https://docs.google.com/forms/d/e/1FAIpQLSfdgOJ8v18Ckv7yRCkWst1vfuZh55ZXQuCq_W7_XKh8PvmchQ/viewform" target="_blank">
        <button style="padding:14px 22px;background:#2563eb;color:#fff;border:none;border-radius:10px;font-size:1rem;font-weight:bold;cursor:pointer;">Submit a Suggestion</button>
      </a>
      <p style="margin-top:10px;font-size:0.85rem;color:#64748b;">Suggestions are reviewed by the MPL core team.</p>
    </section>

    <section class="grid">
      <div class="card kkr"><img src="assets/KKR.jpeg" alt="KKR"><h3>ğŸŸ£ KKR</h3><p>Kolkata Knight Riders</p><a href="teams.html#kkr">View Team â†’</a></div>
      <div class="card mi"><img src="assets/MI.webp" alt="MI"><h3>ğŸ”µ MI</h3><p>Mumbai Indians</p><a href="teams.html#mi">View Team â†’</a></div>
      <div class="card csk"><img src="assets/CSK.webp" alt="CSK"><h3>ğŸŸ¡ CSK</h3><p>Chennai Super Kings</p><a href="teams.html#csk">View Team â†’</a></div>
      <div class="card rcb"><img src="assets/RCB.png" alt="RCB"><h3>ğŸ”´ RCB</h3><p>Royal Challengers Bengaluru</p><a href="teams.html#rcb">View Team â†’</a></div>
      <div class="card pbks"><img src="assets/PBKS.png" alt="PBKS"><h3>ğŸŒ¸ PBKS</h3><p>Punjab Kings</p><a href="teams.html#pbks">View Team â†’</a></div>
    </section>
  </div>

  <footer>Â© 2026 Multivity Premier League (MPL) â€¢ All Rights Reserved</footer>

  <!-- Inline JavaScript (no external script.js needed for now) -->
  <script>
    function closeAnnouncement(){
      localStorage.setItem('mpl_announcement_closed','yes');
      document.getElementById('announcementBanner')?.style.display='none';
    }

    function checkAccess(){
      const memberId = document.getElementById('loginMemberId').value.trim();
      const code = document.getElementById('loginCode').value.trim();
      const msg = document.getElementById('loginMsg');
      if(!memberId || !code){ msg.textContent = "Please enter both fields"; return; }
      if(memberId.startsWith("MPL-") && code.startsWith("MPL-")){
        localStorage.setItem('mpl_access','granted');
        document.getElementById('accessGate').style.display = 'none';
      } else {
        msg.textContent = "Invalid credentials";
      }
    }

    const REG_CLOSE_DATE = new Date('2026-02-28T23:59:59');

    function checkRegistrationStatus(){
      const now = new Date();
      const status = document.getElementById('regStatus');
      const action = document.getElementById('regAction');
      const badge = document.getElementById('regBadge');
      if(!status) return;
      if(now > REG_CLOSE_DATE){
        status.textContent = 'ğŸš« Registration Closed';
        action.innerHTML = '<p style="margin-top:16px;font-weight:bold;color:#dc2626;">Registrations for MPL 2026 are now closed.</p>';
        badge.textContent = 'Closed';
        badge.style.background = '#fee2e2';
        badge.style.color = '#991b1b';
      }
    }

    function updateCountdown(){
      const eventDate = new Date('2026-03-15T00:00:00');
      const now = new Date();
      const diff = eventDate - now;
      const countdown = document.getElementById('countdown');
      if(!countdown) return;
      if(diff <= 0){
        countdown.innerHTML = '<p style="font-size:1.4rem;">ğŸ† Tournament has begun!</p>';
        return;
      }
      const days = Math.floor(diff / (1000*60*60*24));
      const hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
      const minutes = Math.floor((diff % (1000*60*60)) / (1000*60));
      const seconds = Math.floor((diff % (1000*60)) / 1000);
      document.getElementById('days').textContent = days.toString().padStart(2,'0');
      document.getElementById('hours').textContent = hours.toString().padStart(2,'0');
      document.getElementById('minutes').textContent = minutes.toString().padStart(2,'0');
      document.getElementById('seconds').textContent = seconds.toString().padStart(2,'0');
    }

    window.addEventListener('load', () => {
      if(localStorage.getItem('mpl_announcement_closed') === 'yes'){
        const banner = document.getElementById('announcementBanner');
        if(banner) banner.style.display = 'none';
      }
      if(localStorage.getItem('mpl_access') === 'granted'){
        document.getElementById('accessGate').style.display = 'none';
      }
      if(document.getElementById('countdown')){
        updateCountdown();
        setInterval(updateCountdown, 1000);
      }
      checkRegistrationStatus();
    });
  </script>
  <script>
// Debug version - will show alerts to see what's happening

alert("Script is running! Page loaded.");  // â† This should pop up immediately

function closeAnnouncement(){
  localStorage.setItem('mpl_announcement_closed','yes');
  document.getElementById('announcementBanner')?.style.display='none';
}

function checkAccess(){
  alert("Enter button clicked!");  // â† This MUST appear when you click Enter

  const memberId = document.getElementById('loginMemberId').value.trim();
  const code = document.getElementById('loginCode').value.trim();
  const msg = document.getElementById('loginMsg');

  if(!memberId || !code){
    msg.textContent = "Please enter both fields";
    return;
  }

  if(memberId.startsWith("MPL-") && code.startsWith("MPL-")){
    alert("Login SUCCESS! Hiding gate...");  // â† Success test
    localStorage.setItem('mpl_access','granted');
    document.getElementById('accessGate').style.display = 'none';
  } else {
    msg.textContent = "Invalid credentials";
  }
}

// Rest of your functions (countdown, registration check, load event) remain the same...
// ... paste the rest from your previous script here ...

window.addEventListener('load', () => {
  alert("Window load event fired!");  // â† Another check
  // ... rest of load code ...
});
</script>
</body>
</html>

